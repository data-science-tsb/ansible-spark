---
  - name: Gather Facts Machines
    ec2_remote_facts:
      aws_access_key: "{{ aws_key_id }}"
      aws_secret_key: "{{ aws_key_secret }}"
      region: "{{ aws_region }}"
      filters: 
        "tag:ClusterName":  "{{ spark_cluster_name }}"
    register: spark_master

  - name: Log Facts
    debug:
      msg: "Master IP Address: {{ spark_master['instances'][0]['public_ip_address'] }}"